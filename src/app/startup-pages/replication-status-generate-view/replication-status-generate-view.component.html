<ngx-no-column-layout >
    <ngx-basic-top-navbar></ngx-basic-top-navbar>
    <div style="margin-top: 7rem;">
    <nb-card *ngIf="isTrue">
        <nb-card-header class="header-section">Replicatoin Status</nb-card-header>
        <nb-card-body>
            <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="row">
            <div class="col-sm-12">
                
                <div class="row m-1 p-1">
                    <label for="billMonth" class="col-form-label col-md-2">Bill Month</label>
                    <div class="col-md-6">
        
                   <input 
                   type="text" fullWidth
                   formControlName="billMonth"
                   nbInput
                   [bsConfig]="{
                     minMode: 'month',
                     dateInputFormat: 'MMM-YYYY',
                     isAnimated: true,
                     containerClass: 'theme-default'
                   }"
                   #dp="bsDatepicker"
                   bsDatepicker
                   (keypress)="space($event)"
                   placeholder="Enter Bill Month" maxlength="8"
                 />
        
                    </div>
                  </div>
            </div>
          </div>
          <div class="offset-2">
            <button type="submit" class="ml-3 mt-2 btn btn-success"> Submit </button>
          </div>
        </form>
        </nb-card-body>
      </nb-card>
    </div>
    
      <div class="wrapper wrapper-content animated fadeInRight responsive" *ngIf="!isTrue">
        <nb-card>
            <div class="row">
                <div class="col-lg-6">
                    <h6 class="p-3">Replicaton Status</h6>
                </div>
                <div class="col-lg-6 text-right">
                    <!-- <h6 class="p-3 text-right"><a class="search-again-line" (click)="searchAgain()">Search Again</a></h6> -->
                    <button type="button" class="mt-3 mr-3 btn btn-secondary" (click)="searchAgain()">Search Again</button>
                </div>
            </div>
            <hr class="hr-vertical">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-content">
                            <div class="table-responsive px-3">
                                <table datatable
                                [dtOptions]="dtOptions"
                                [dtTrigger]="dtTrigger"
                                class="table table-striped table-bordered table-hover dataTables-example">
                                <thead>
                                      <tr>
                                          <th style="text-align: center;">SN</th>
                                          <th style="text-align: center;">Center Name</th>
                                          <th style="text-align: center;">Database Status</th>
                                          <th style="text-align: center;">Last Card Gen Date & Time</th>
                                          <th style="text-align: center;">Last Mrs Entry Date & Time</th>
                                          <th style="text-align: center;">Last Overall Proc Date & Time</th>
                                          <th style="text-align: center;">Last Overall Final Date & Time</th>
                                          <th style="text-align: center;">Last Bill Gen Date & Time</th>
                                          <th style="text-align: center;">Last Bill Final Date & Time</th>
                                          <th style="text-align: center;">Last Bill Dispatch Date & Time</th>
                                      </tr>
                                  </thead>
                                  <tbody>
                                    <tr *ngFor="let item of replicationStatusData; let i = index" [style.background]="item.color">
                                          <td style="text-align: center;">{{i+1}}</td>
                                          <td style="text-align: center;">{{item.database}}</td>
                                          <td style="text-align: center;">{{item.databaseStatus}}</td>
                                          <td style="text-align: center;">{{item.cardGenDate}}</td>
                                          <td style="text-align: center;">{{item.mrsEntryDate}}</td>
                                          <td style="text-align: center;">{{item.overallProcDate}}</td>
                                          <td style="text-align: center;">{{item.overallFinalDate}}</td>
                                          <td style="text-align: center;">{{item.billGenDate}}</td>
                                          <td style="text-align: center;">{{item.billFinalDate}}</td>
                                          <td style="text-align: center;">{{item.billDespatchDate}}</td>
                                    </tr>
                                  </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nb-card>
    </div>
      
    
</ngx-no-column-layout>
