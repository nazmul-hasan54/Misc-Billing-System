<nb-card *ngIf="isTrue==false">
    <nb-card-header class="header-section">APA Report</nb-card-header>
    <nb-card-body>
        <form [formGroup]="apaForm" (ngSubmit)="onReport()">
            <div class="col-sm-6">
                <div class="form-group row">
                    <label for="fiscalYearCode" class="label col-sm-4 col-form-label">Fiscal Year : </label>
                    <div class="col-sm-8">
                        <nb-select formControlName="fiscalYearCode" fullWidth placeholder="Enter Fiscal Year">
                            <nb-option *ngFor="let item of fiscalYearlist" [value]="item.code">{{item.financialName}}</nb-option>
                        </nb-select>
                        <div *ngIf="f.fiscalYearCode.touched && f.fiscalYearCode.invalid" class="alert alert-danger">
                            <div *ngIf="f.fiscalYearCode.errors?.required">Please enter Fiscal Year</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row m-1 p-1">
                <div class="col-md-6">
                    <button *ngIf="isProgress==false" type="submit" nbButton status="success"> Generate Report </button>
                    <button *ngIf="isProgress" type="submit" nbButton status="success" disabled>
                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                        Generating...
                    </button>
                </div>
            </div>
        </form>
    </nb-card-body>
  </nb-card>
  
  <div *ngIf="isTrue==true && report !=''">
    <div class="row" >
      <div class="col-sm-12 d-flex justify-content-end pb-2">
        <nb-select placeholder="Export Type" (selectedChange)="onChangeExportType($event)">
          <nb-option *ngFor="let exportType of exportTypeList" [value]="exportType.id">{{exportType.name}}</nb-option>
        </nb-select> &nbsp;
        <button type="submit" nbButton status="info" (click)="onSearchAgain()">Search Again </button>
      </div> 
    </div>
    <ngx-pdf-viewer [report]="report" [documentTitle]="documentTitle"></ngx-pdf-viewer>
  </div>
  
  

  


<!-- 
<div>
    <form [formGroup]="apaForm" (ngSubmit)="onReport()">
        <nb-card size="small" status="basic" *ngIf="isTrue==false">
            <nb-card-header class="header-section">APA Report</nb-card-header>
            <nb-card-body>
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="fiscalYearCode" class="label col-sm-4 col-form-label">Fiscal Year : </label>
                        <div class="col-sm-8">
                            <nb-select formControlName="fiscalYearCode" fullWidth placeholder="Enter Fiscal Year">
                                <nb-option *ngFor="let item of fiscalYearlist" [value]="item.code">{{item.financialName}}</nb-option>
                            </nb-select>
                            <div *ngIf="f.fiscalYearCode.touched && f.fiscalYearCode.invalid" class="alert alert-danger">
                                <div *ngIf="f.fiscalYearCode.errors?.required">Please enter Fiscal Year</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row m-1 p-1">
                    <div class="col-md-2"></div>
                    <div class="col-md-6">
                        <button *ngIf="isProgress==false" type="submit" nbButton status="success"> Generate Report </button>
                        <button *ngIf="isProgress" type="submit" nbButton status="success" disabled>
                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                            Generating...
                        </button>
                    </div>
                </div>
            </nb-card-body>
        </nb-card>
    </form>
</div>


<div *ngIf="isTrue==true && report !=''">
    <div class="row">
        <div class="col-sm-12 d-flex justify-content-end pb-2">
            <nb-select placeholder="Export Type" (selectedChange)="onChangeExportType($event)">
                <nb-option *ngFor="let exportType of exportTypeList"[value]="exportType.id">{{exportType.name}}</nb-option>
            </nb-select> &nbsp;
            <button type="submit" nbButton status="info" (click)="onSearchAgain()">Search Again </button>

        </div>
    </div>
    <ngx-pdf-viewer [report]="report" [documentTitle]="documentTitle"></ngx-pdf-viewer>
</div> -->