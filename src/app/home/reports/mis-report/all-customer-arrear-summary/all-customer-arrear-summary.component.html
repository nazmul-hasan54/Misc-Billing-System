<nb-card *ngIf="isTrue==false">
  <nb-card-header>All Customer Arrear Summary</nb-card-header>
  <nb-card-body>
    <form [formGroup]="customerForm">
      <div class="row m-1 p-1">
        <div class="col-sm-2">
          <label class="col-from-label">Center<span></span></label>
        </div>

        <div class="col-sm-6">
          <nb-select hero fullWidth formControlName="centerCode" [placeholder]="''">
            <nb-option value="0">All</nb-option>
            <nb-option *ngFor="let item of centerList" [value]="item.key">{{item.value}}</nb-option>
          </nb-select>
        </div>
      </div>
      <div class="row m-1 p-1">
        <label for="billMonth" class="col-form-label col-md-2">Bill Month</label>
        <div class="col-md-6">
          <input type="text" fullWidth formControlName="billMonth" nbInput [bsConfig]="{ minMode: 'month', dateInputFormat: 'MMM-YYYY',
                        isAnimated: true, containerClass: 'theme-default'}" #dp="bsDatepicker" bsDatepicker
            (keypress)="space($event)" placeholder="Enter Bill Month" maxlength="8" />
        </div>
      </div>
      <div class="row m-1 p-1">
        <label for="considerAll" class="col-form-label col-md-2">Consider All</label>
        <div class="col-md-6">
          <nb-checkbox status="basic" formControlName="isAll"></nb-checkbox>
        </div>
      </div>
      <div class="row m-1 p-1" *ngIf="formCon['isAll'].value==false">
        <label for="considerAll" class="col-form-label col-md-2">Consider Principal</label>
        <div class="col-md-6">
          <nb-checkbox status="basic" formControlName="isPrn"></nb-checkbox>
        </div>
      </div>
      <div class="row m-1 p-1" *ngIf="formCon['isAll'].value==false">
        <label for="considerAll" class="col-form-label col-md-2">Consider Vat</label>
        <div class="col-md-6">
          <nb-checkbox status="basic" formControlName="isVat"></nb-checkbox>
        </div>
      </div>
      <div class="row m-1 p-1" *ngIf="formCon['isAll'].value==false">
        <label for="considerAll" class="col-form-label col-md-2">Consider Lps</label>
        <div class="col-md-6">
          <nb-checkbox status="basic" formControlName="isLps"></nb-checkbox>
        </div>
      </div>
    </form>
  </nb-card-body>
  <nb-card-footer>
    <button *ngIf="isProgress==false" type="submit" nbButton (click)="onReport()" status="success"> Generate Report </button>
    <button *ngIf="isProgress" type="submit" nbButton status="success" disabled>
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Generating...
    </button>
  </nb-card-footer>
</nb-card>
<div *ngIf="isTrue==true && report !=''">
  <div class="row">
    <div class="col-sm-12 d-flex justify-content-end pb-2">
      <nb-select placeholder="Export Type" (selectedChange)="onChangeExportType($event)">
        <nb-option *ngFor="let exportType of exportTypeList" [value]="exportType.id">{{exportType.name}}</nb-option>
      </nb-select> &nbsp;
      <button  nbButton status="info" (click)="onSearchAgain()">Search Again </button>

    </div>
  </div>
  <ngx-pdf-viewer [report]="report" [documentTitle]="documentTitle"></ngx-pdf-viewer>
</div>