<nb-card>
    <nb-card-header class="header-section">Transfer List for Prepaid.</nb-card-header>

    <nb-card-body>
      <form [formGroup]="postToprepaidForm">
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group row">
            <label for="billMonth" class="label col-sm-3 col-form-label">Bill Month<span class="text-danger">*</span>:</label>
            <div class="col-sm-9">
              <input 
                type="text" fullWidth
                formControlName="billMonth"
                nbInput
                [bsConfig]="{
                  minMode: 'month',
                  dateInputFormat: 'MMM-YYYY',
                  isAnimated: true,
                  containerClass: 'theme-default'
                }"
                #dp="bsDatepicker"
                bsDatepicker
                (keypress)="space($event)"
                placeholder="Enter Bill Month" maxlength="8"
              />
              <div *ngIf="f.postStartDate.touched && f.postStartDate.invalid" class="alert alert-danger">
                <div *ngIf="f.postStartDate.errors?.required">Please enter Bill Month</div>
              </div>
            </div>
          </div>
        </div>

        <!-- <div class="col-sm-3">
          <div class="form-group row">
            <label for="endDate" class="label col-sm-3 col-form-label"> Start Date<span class="text-danger">*</span>:</label>
            <div class="col-sm-9">
              <input nbInput placeholder="End Date" format="dd.MM.yyyy" formControlName="postStartDate" fullWidth
                [nbDatepicker]="endDatesss" (ngModelChange)="startDates($event)">
              <nb-datepicker #endDatesss></nb-datepicker>
            <div *ngIf="f.postEndDate.touched && f.postEndDate.invalid" class="alert alert-danger">
              <div *ngIf="f.postEndDate.errors?.required">Please enter Start Date</div>
            </div>
            </div>
      
          </div>
        </div> -->
      
        <!-- <div class="col-sm-3">
          <div class="form-group row">
            <label for="endDate" class="label col-sm-3 col-form-label"> End Date<span class="text-danger">*</span>:</label>
            <div class="col-sm-9">
              <input nbInput placeholder="End Date" format="dd.MM.yyyy" formControlName="postEndDate" fullWidth
                [nbDatepicker]="endDatess" (ngModelChange)="endDates($event)">
              <nb-datepicker #endDatess></nb-datepicker>
            <div *ngIf="f.postEndDate.touched && f.postEndDate.invalid" class="alert alert-danger">
              <div *ngIf="f.postEndDate.errors?.required">Please enter End Date</div>
            </div>
            </div>
      
          </div>
        </div> -->
      
      
        <div class="col-sm-2">
          <!-- <button type="button" (click)="getPostToPrepaidSearchByDate()"  class="btn btn-primary" [disabled]="!postToprepaidForm.valid"> -->
          <button type="button" (click)="getPostToPrepaidSearchByDate()"  class="btn btn-primary">
            <i class="fas fa-search"></i> Search
          </button>
        </div>
          <div class="col-sm-4">
            <div class="form-group row">
              <label for="customerName" class="label col-sm-3 col-form-label">ExportType:</label>
              <div class="col-sm-9">
                <nb-select placeholder="Export Type" (selectedChange)="onChangeExportType($event)">
                  <nb-option *ngFor="let exportType of exportTypeList" [value]="exportType.id">{{exportType.name}}</nb-option>
                </nb-select>
              </div>
            </div>
          </div>

      </div>
    

        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                    class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                        <tr>
                                            <th class="text-center" style="width: 5%;">SN</th>
                                            <th class="text-center" style="width: 10%;">Customer Number</th>
                                            <th class="text-center" style="width: 10%;">Customer Name</th>
                                            <th class="text-center" style="width: 10%;">Location</th>
                                            <th class="text-center" style="width: 10%;">NID Number</th>
                                            <th class="text-center" style="width: 10%;">Mobile Number</th>
                                            <th class="text-center" style="width: 10%;">Power Utility</th>
                                            <th class="text-center" style="width: 10%;">Max Power</th>
                                            <th class="text-center" style="width: 10%;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let bill of ptopList; let i =index">
                                            <th style="width: 5%;">{{i+1}}</th>
                                            <td style="width: 10%;">{{bill.customerNumber}}</td>
                                            <td style="width: 10%;">{{bill.customerName}}</td>
                                            <td style="width: 10%;">{{bill.locationName}}</td>
                                            <td style="width: 10%;">{{bill.nidNumber}}</td>
                                            <td style="width: 10%;">{{bill.mobileNumber}}</td>
                                            <td style="width: 10%;">{{bill.powerUtility}}</td>
                                            <td style="width: 10%;">{{bill.maxPower}}</td>
                                            <td class="text-center" style="width: 10%;">
                                                <button class="btn btn-sm btn-success "
                                                    (click)="viewPrint(bill)">Print</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </form>
    </nb-card-body>
</nb-card>
