<nb-card>
    <nb-card-header class="form-header-section "> Apa performance Genarate</nb-card-header>
    <nb-card-body>
        <form [formGroup]="apaPerformanceForm">
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="programCode" class="label col-sm-4 col-form-label">Program Code:</label>
                        <div class="col-sm-8">
                        <nb-select formControlName="programCode"   fullWidth placeholder="Enter Program Code">
                            <nb-option *ngFor="let item of programList" [value]="item.code">{{item.nameBn}}</nb-option>
                        </nb-select>
                        <div *ngIf="f.programCode.touched && f.programCode.invalid" class="alert alert-danger">
                            <div *ngIf="f.programCode.errors?.required">Please enter Program Code</div>
                        
                        </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Name : </label>
                        <div class="col-sm-8">
                            <input type="text" class="form-control" formControlName="name" fullWidth placeholder="Name">
                            <div *ngIf="f.name.touched && f.name.invalid" class="alert alert-danger">
                                <div *ngIf="f.name.errors?.required">Please enter Name</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="customerType" class="label col-sm-4 col-form-label">Name Bn : </label>
                        <div class="col-sm-8">

                            <input type="text" class="form-control" formControlName="nameBn" fullWidth
                                placeholder="Name Bn">
                            <div *ngIf="f.nameBn.touched && f.nameBn.invalid" class="alert alert-danger">
                                <div *ngIf="f.nameBn.errors?.required">Please enter Name Bn</div>

                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="orderBy" class="label col-sm-4 col-form-label">Order No : </label>
                        <div class="col-sm-8">

                            <input type="text" class="form-control" formControlName="orderBy" fullWidth
                                placeholder="Order No">
                            <div *ngIf="f.orderBy.touched && f.orderBy.invalid" class="alert alert-danger">
                                <div *ngIf="f.orderBy.errors?.required">Please enter Order No</div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

           
            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="indexUnitCode" class="label col-sm-4 col-form-label">Unit Code:</label>
                        <div class="col-sm-8">
                            <nb-select formControlName="indexUnitCode"   fullWidth placeholder="Enter Unit Code">
                                <nb-option *ngFor="let item of unitIndexlist" [value]="item.code">{{item.nameBn}}</nb-option>
                            </nb-select>
                            <div *ngIf="f.indexUnitCode.touched && f.indexUnitCode.invalid" class="alert alert-danger">
                                <div *ngIf="f.indexUnitCode.errors?.required">Please enter Unit Code</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-6">
                    <div class="form-group row">
                        <label for="value" class="label col-sm-4 col-form-label">value : </label>
                        <div class="col-sm-8">
            
                            <input type="text" class="form-control" formControlName="value" fullWidth placeholder="Value">
                            <div *ngIf="f.value.touched && f.value.invalid" class="alert alert-danger">
                                <div *ngIf="f.value.errors?.required">Please enter Value</div>
            
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="row mb-5">
                <div class="col-sm-2">

                </div>
                <div *ngIf="btnStatus=='Save'" class="col-sm-1 px-5 mx-2">
                    <button type="button" [disabled]="!apaPerformanceForm.valid" class="btn btn-primary"
                        (click)="savePerformanceBill()">Save</button>
                </div>
                <div *ngIf="btnStatus=='Update'" class="col-sm-1 mx-2">
                    <button type="button" class="btn btn-primary" (click)="updatePerformanceBill()"
                        [disabled]="isSavedDisable">Update</button>
                </div>
                <div class="col-sm-1">
                    <button type="button" class="btn btn-warning" (click)="reset()">Refresh</button>
                </div>
            </div>
        </form>
        <div class="wrapper wrapper-content animated fadeInRight">
            <div class="row">
                <div class="col-lg-12">
                    <div class="ibox">
                        <div class="ibox-content">
                            <div class="table-responsive">
                                <table datatable id="tableId" [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                                    class="table table-striped table-bordered table-hover dataTables-example">
                                    <thead>
                                        <tr class="justify-content-center">
                                            <th style="width: 5%;">SN</th>
                                            <th style="width: 10%;">Name</th>
                                            <th style="width: 10%;">Name BN</th>
                                            <th style="width: 10%;">OrderNo</th>
                                            <th style="width: 10%;">Program </th>
                                            <th style="width: 10%;">Unit Index</th>
                                            <th style="width: 10%;">Value</th>
                                            <th style="width: 20%;">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let apa of performanceList; let i =index">
                                            <th style="width: 5%;">{{i+1}}</th>
                                            <td style="width: 10%;">{{apa.name}}</td>
                                            <td style="width: 10%;">{{apa.nameBn}}</td>
                                            <td style="width: 10%;">{{apa.orderBy}}</td>
                                            <td style="width: 10%;">{{apa.poName}}</td>
                                            <td style="width: 10%;">{{apa.iuName}}</td>
                                            <td style="width: 10%;">{{apa.value}}</td>
                                            <td style="width: 10%;">
                                                <div class="row">
                                                    <button style="width: 40px;" class="btn btn-sm btn-primary  mx-2"
                                                        (click)="editApalist(apa)">Edit</button>
                                                    <button style="width: 60px;" class="btn btn-sm btn-danger "
                                                        (click)="deletePerformancebill(apa.id)">Delete</button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </nb-card-body>
</nb-card>
